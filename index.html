<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Finance Tracker</title>
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <header>
        <div class="container">
            <div class="header-title">
                <img src="assets/profile.jpg" alt="Profile picture of Tolu" class="profile-pic">
                <h1>Tolu's Finance Tracker</h1>
            </div>
            <nav aria-label="Main navigation">
                <ul class="nav-list">
                    <li><a href="#dashboard" class="nav-link active" data-section="dashboard">Dashboard</a></li>
                    <li><a href="#records" class="nav-link" data-section="records">Records</a></li>
                    <li><a href="#add-edit" class="nav-link" data-section="add-edit">Add Transaction</a></li>
                    <li><a href="#settings" class="nav-link" data-section="settings">Settings</a></li>
                    <li><a href="#about" class="nav-link" data-section="about">About</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main id="main-content">
        <!-- Dashboard Section -->
        <section id="dashboard" class="app-section active" aria-labelledby="dashboard-heading">
            <div class="container">
                <h2 id="dashboard-heading">Dashboard</h2>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <h3>Total Transactions</h3>
                        <p class="stat-value" id="stat-total">0</p>
                    </div>
                    <div class="stat-card">
                        <h3>Total Spent</h3>
                        <p class="stat-value" id="stat-spent">$0.00</p>
                    </div>
                    <div class="stat-card">
                        <h3>Top Category</h3>
                        <p class="stat-value" id="stat-category">-</p>
                    </div>
                    <div class="stat-card">
                        <h3>Last 7 Days</h3>
                        <p class="stat-value" id="stat-week">$0.00</p>
                    </div>
                </div>

                <div class="cap-section">
                    <h3>Monthly Budget Cap</h3>
                    <div class="cap-input-group">
                        <label for="budget-cap">Set Budget Cap:</label>
                        <input type="number" id="budget-cap" min="0" step="0.01" placeholder="Enter amount">
                        <button id="set-cap-btn" class="btn btn-primary">Set Cap</button>
                    </div>
                    <div id="cap-status" role="status" aria-live="polite" class="cap-status"></div>
                </div>

                <div class="chart-section">
                    <h3>Spending by Category</h3>
                    <div id="category-chart" class="category-chart"></div>
                </div>
            </div>
        </section>

        <!-- Records Section -->
        <section id="records" class="app-section" aria-labelledby="records-heading">
            <div class="container">
                <h2 id="records-heading">Transaction Records</h2>
                
                <div class="search-section">
                    <h3>Search & Filter</h3>
                    <div class="search-controls">
                        <div class="search-input-group">
                            <label for="search-input">Regex Pattern:</label>
                            <input type="text" id="search-input" placeholder="Enter regex pattern (e.g., coffee|tea)" aria-describedby="search-help">
                            <small id="search-help">Use regex patterns to search transactions</small>
                        </div>
                        <div class="search-options">
                            <label>
                                <input type="checkbox" id="case-insensitive" checked>
                                Case Insensitive
                            </label>
                        </div>
                        <div id="search-error" role="alert" class="error-message"></div>
                    </div>
                </div>

                <div class="sort-section">
                    <h3>Sort By</h3>
                    <div class="sort-controls">
                        <button class="btn btn-secondary sort-btn" data-sort="date">Date ↕</button>
                        <button class="btn btn-secondary sort-btn" data-sort="description">Description ↕</button>
                        <button class="btn btn-secondary sort-btn" data-sort="amount">Amount ↕</button>
                        <button class="btn btn-secondary sort-btn" data-sort="category">Category ↕</button>
                    </div>
                </div>

                <div class="records-container">
                    <div id="records-table-wrapper">
                        <table id="records-table" class="records-table">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Description</th>
                                    <th>Amount</th>
                                    <th>Category</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="records-tbody">
                                <!-- Records will be inserted here -->
                            </tbody>
                        </table>
                    </div>
                    <div id="records-cards" class="records-cards">
                        <!-- Card view for mobile -->
                    </div>
                    <div id="empty-state" class="empty-state">
                        <p>No transactions found. Add your first transaction to get started!</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Add/Edit Section -->
        <section id="add-edit" class="app-section" aria-labelledby="add-edit-heading">
            <div class="container">
                <h2 id="add-edit-heading">Add Transaction</h2>
                
                <form id="transaction-form" class="transaction-form" novalidate>
                    <input type="hidden" id="edit-id" value="">
                    
                    <div class="form-group">
                        <label for="description">Description <span class="required">*</span></label>
                        <input type="text" id="description" name="description" required aria-describedby="description-error">
                        <small class="help-text">No leading/trailing spaces, no double spaces</small>
                        <div id="description-error" role="alert" class="field-error"></div>
                    </div>

                    <div class="form-group">
                        <label for="amount">Amount <span class="required">*</span></label>
                        <input type="text" id="amount" name="amount" required aria-describedby="amount-error" placeholder="0.00">
                        <small class="help-text">Numeric value with up to 2 decimal places</small>
                        <div id="amount-error" role="alert" class="field-error"></div>
                    </div>

                    <div class="form-group">
                        <label for="category">Category <span class="required">*</span></label>
                        <select id="category" name="category" required aria-describedby="category-error">
                            <option value="">Select a category</option>
                            <option value="Food">Food</option>
                            <option value="Books">Books</option>
                            <option value="Transport">Transport</option>
                            <option value="Entertainment">Entertainment</option>
                            <option value="Fees">Fees</option>
                            <option value="Other">Other</option>
                        </select>
                        <div id="category-error" role="alert" class="field-error"></div>
                    </div>

                    <div class="form-group">
                        <label for="date">Date <span class="required">*</span></label>
                        <input type="text" id="date" name="date" required aria-describedby="date-error" placeholder="YYYY-MM-DD">
                        <small class="help-text">Format: YYYY-MM-DD</small>
                        <div id="date-error" role="alert" class="field-error"></div>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary" id="submit-btn">Add Transaction</button>
                        <button type="button" class="btn btn-secondary" id="cancel-btn">Cancel</button>
                    </div>

                    <div id="form-status" role="status" aria-live="polite" class="form-status"></div>
                </form>
            </div>
        </section>

        <!-- Settings Section -->
        <section id="settings" class="app-section" aria-labelledby="settings-heading">
            <div class="container">
                <h2 id="settings-heading">Settings</h2>
                
                <div class="settings-section">
                    <h3>Currency Settings</h3>
                    <p>Base currency: USD</p>
                    <div class="currency-rates">
                        <div class="form-group">
                            <label for="eur-rate">EUR to USD Rate:</label>
                            <input type="number" id="eur-rate" step="0.0001" value="1.0900" min="0">
                        </div>
                        <div class="form-group">
                            <label for="gbp-rate">GBP to USD Rate:</label>
                            <input type="number" id="gbp-rate" step="0.0001" value="1.2700" min="0">
                        </div>
                        <button id="save-rates-btn" class="btn btn-primary">Save Rates</button>
                    </div>
                    <div id="rates-status" role="status" aria-live="polite" class="status-message"></div>
                </div>

                <div class="settings-section">
                    <h3>Data Management</h3>
                    
                    <div class="data-actions">
                        <div class="action-group">
                            <h4>Export Data</h4>
                            <button id="export-json-btn" class="btn btn-secondary">Export as JSON</button>
                        </div>

                        <div class="action-group">
                            <h4>Import Data</h4>
                            <label for="import-file" class="btn btn-secondary">Choose JSON File</label>
                            <input type="file" id="import-file" accept=".json" style="display: none;">
                            <div id="import-status" role="status" aria-live="polite" class="status-message"></div>
                        </div>

                        <div class="action-group">
                            <h4>Clear All Data</h4>
                            <button id="clear-data-btn" class="btn btn-danger">Clear All Transactions</button>
                        </div>
                    </div>
                </div>

                <div class="settings-section">
                    <h3>Categories Management</h3>
                    <div class="categories-list" id="categories-list">
                        <!-- Categories will be listed here -->
                    </div>
                </div>
            </div>
        </section>

        <!-- About Section -->
        <section id="about" class="app-section" aria-labelledby="about-heading">
            <div class="container">
                <h2 id="about-heading">About This App</h2>
                
                <div class="about-content">
                    <h3>Purpose</h3>
                    <p>The Student Finance Tracker is a comprehensive web application designed to help students manage their finances effectively. Built with accessibility and usability in mind, this app allows you to track expenses, set budget caps, analyze spending patterns, and make informed financial decisions.</p>

                    <h3>Features</h3>
                    <ul>
                        <li><strong>Transaction Management:</strong> Add, edit, and delete financial transactions with detailed categorization</li>
                        <li><strong>Advanced Search:</strong> Use regex patterns to search and filter transactions with real-time highlighting</li>
                        <li><strong>Budget Tracking:</strong> Set monthly budget caps and receive alerts when approaching or exceeding limits</li>
                        <li><strong>Data Visualization:</strong> View spending trends and category breakdowns on the dashboard</li>
                        <li><strong>Multi-Currency Support:</strong> Configure exchange rates for EUR and GBP</li>
                        <li><strong>Data Portability:</strong> Import and export transaction data in JSON format</li>
                        <li><strong>Accessibility:</strong> Full keyboard navigation, ARIA live regions, and semantic HTML</li>
                        <li><strong>Responsive Design:</strong> Optimized for mobile, tablet, and desktop devices</li>
                    </ul>

                    <h3>Technologies Used</h3>
                    <ul>
                        <li>Vanilla HTML5, CSS3, and JavaScript (ES6 modules)</li>
                        <li>LocalStorage for data persistence</li>
                        <li>Regex for validation and search functionality</li>
                        <li>Flexbox for responsive layouts</li>
                    </ul>

                    <h3>Contact</h3>
                    <p>
                        <strong>Developer:</strong> Toluwani Jephthae Oladeji<br>
                        <strong>GitHub:</strong> <a href="https://github.com/student-finance-app" target="_blank" rel="noopener noreferrer">github.com/student-finance-app</a><br>
                        <strong>Email:</strong> <a href="mailto:t.oladeji@alustudent.com">t.oladeji@alustudent.com</a>
                    </p>

                    <h3>Keyboard Navigation</h3>
                    <ul>
                        <li><kbd>Tab</kbd> / <kbd>Shift+Tab</kbd>: Navigate between interactive elements</li>
                        <li><kbd>Enter</kbd>: Activate buttons and links</li>
                        <li><kbd>Space</kbd>: Toggle checkboxes</li>
                        <li><kbd>Escape</kbd>: Cancel editing mode</li>
                    </ul>

                    <h3>Accessibility Features</h3>
                    <ul>
                        <li>Semantic HTML with proper heading hierarchy</li>
                        <li>ARIA labels and live regions for screen readers</li>
                        <li>Visible focus indicators for keyboard navigation</li>
                        <li>Sufficient color contrast (WCAG 2.1 AA compliant)</li>
                        <li>Skip-to-content link for quick navigation</li>
                    </ul>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 Tolu's Finance Tracker.</p>
        </div>
    </footer>

    <script type="module" src="scripts/main.js"></script>
</body>
</html>

